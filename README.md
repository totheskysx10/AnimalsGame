# Animals Game

## Описание проекта

Это backend-часть игры с поиском животных на картинке. Проект предоставляет API для управления:

- уровнями игры,
- животными и их описаниями,
- текстами интерфейса.

---

## Особенности архитектуры

### Абстрактный `LevelService`

Проект использует абстрактный `LevelService` для работы с уровнями разных раундов, что обеспечивает:

- Единообразие кода для всех типов уровней
- Простое добавление новых раундов (достаточно создать новый сервис-наследник)
- Централизованное управление общей логикой уровней
- Минимизацию дублирования кода

---

### Оптимизированный кэш уровней: `LevelsSessionCache`

Класс `LevelsSessionCache` реализует:

- Быструю выдачу случайных уровней без повторений в рамках одной сессии
- O(1) удаление уже показанных уровней
- Автоматическую инициализацию при старте сессии
- Поддержку нескольких раундов игры

---

## Запуск проекта

### Сборка Docker-образа

```
docker build -t animals-game-backend .
```
### Запуск контейнера

```
docker run -p 5001:5001 animals-game-backend
```

---

## Основные компоненты

- **`LevelService`** — абстрактный сервис для работы с уровнями
- **`FirstRoundLevelService`, `SecondRoundLevelService`** — реализации `LevelService` для конкретных раундов
- **`AnimalService`** — управление животными и их описаниями
- **`UiTextService`** — управление текстами интерфейса
- **`LevelsSessionCache`** — кэш уровней для сессии пользователя

---

## Расширение функциональности

Чтобы добавить новый раунд, выполните следующие шаги:

1. **Создайте класс уровня** — наследник `Level`
2. **Создайте репозиторий** — наследник `LevelRepository`
3. **Создайте сервис** — наследник `LevelService`
4. **Создайте DTO, Assembler и Controller** по аналогии с реализациями первых двух раундов

> Доступные языки перечислены в enum `Language`